{"ast":null,"code":"import _slicedToArray from\"/Users/tedaneblake/Creative Cloud Files/dev/fb-clone-react/fb-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import StoryReel from'./StoryReel';import\"./Feed.css\";import MessageSender from'./MessageSender';import Post from'./Post';import{useStateValue}from'./StateProvider';import db from\"./firebase\";function Feed(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];useEffect(function(){db.collection(\"posts\").orderBy(\"timestamp\",\"desc\").onSnapshot(function(snapshot){return setPosts(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});},[]);var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),user=_useStateValue2[0].user,dispatch=_useStateValue2[1];return/*#__PURE__*/React.createElement(\"div\",{className:\"feed\"},/*#__PURE__*/React.createElement(StoryReel,null),/*#__PURE__*/React.createElement(MessageSender,null),posts.map(function(post){return/*#__PURE__*/React.createElement(Post,{key:post.id,profilePic:post.data.profilePic,message:post.data.message,timestamp:post.data.timestamp,username:post.data.username,image:post.data.image});}));}export default Feed;","map":{"version":3,"sources":["/Users/tedaneblake/Creative Cloud Files/dev/fb-clone-react/fb-clone/src/Feed.js"],"names":["React","useEffect","useState","StoryReel","MessageSender","Post","useStateValue","db","Feed","posts","setPosts","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","data","user","dispatch","post","profilePic","message","timestamp","username","image"],"mappings":"0LAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAO,YAAP,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,OAASC,aAAT,KAA8B,iBAA9B,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CAEA,QAASC,CAAAA,IAAT,EAAgB,eAEcN,QAAQ,CAAC,EAAD,CAFtB,wCAELO,KAFK,eAEEC,QAFF,eAIZT,SAAS,CAAC,UAAM,CAEZM,EAAE,CAACI,UAAH,CAAc,OAAd,EAAuBC,OAAvB,CAA+B,WAA/B,CAA4C,MAA5C,EAAoDC,UAApD,CAA+D,SAACC,QAAD,QAC7DJ,CAAAA,QAAQ,CAACI,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAC,GAAG,QAAK,CAAEC,EAAE,CAAED,GAAG,CAACC,EAAV,CAAcC,IAAI,CAAEF,GAAG,CAACE,IAAJ,EAApB,CAAL,EAArB,CAAD,CADqD,EAA/D,EAGH,CALQ,CAKN,EALM,CAAT,CAJY,mBAWiBb,aAAa,EAX9B,kDAWHc,IAXG,oBAWHA,IAXG,CAWKC,QAXL,oBAaZ,mBACI,2BAAK,SAAS,CAAC,MAAf,eAEI,oBAAC,SAAD,MAFJ,cAII,oBAAC,aAAD,MAJJ,CAMKZ,KAAK,CAACO,GAAN,CAAU,SAACM,IAAD,qBAEP,oBAAC,IAAD,EACI,GAAG,CAAIA,IAAI,CAACJ,EADhB,CAEI,UAAU,CAAII,IAAI,CAACH,IAAL,CAAUI,UAF5B,CAGI,OAAO,CAAID,IAAI,CAACH,IAAL,CAAUK,OAHzB,CAII,SAAS,CAAIF,IAAI,CAACH,IAAL,CAAUM,SAJ3B,CAKI,QAAQ,CAAIH,IAAI,CAACH,IAAL,CAAUO,QAL1B,CAMI,KAAK,CAAIJ,IAAI,CAACH,IAAL,CAAUQ,KANvB,EAFO,EAAV,CANL,CADJ,CAoBH,CAED,cAAenB,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport StoryReel from './StoryReel';\nimport \"./Feed.css\";\nimport MessageSender from './MessageSender';\nimport Post from './Post';\nimport { useStateValue } from './StateProvider';\nimport db from \"./firebase\";\n\nfunction Feed() {\n\n    const [posts, setPosts] = useState([]);\n\n    useEffect(() => {\n\n        db.collection(\"posts\").orderBy(\"timestamp\", \"desc\").onSnapshot((snapshot) =>\n          setPosts(snapshot.docs.map(doc => ({ id: doc.id, data: doc.data() })))  \n        );\n    }, [])\n\n    const [{ user }, dispatch] = useStateValue();\n\n    return (\n        <div className=\"feed\">\n            {/* StoryReel */}\n            <StoryReel />\n            {/* MessageSender */}\n            <MessageSender />\n            {/* Post */}\n            {posts.map((post) => (\n\n                <Post \n                    key = {post.id}\n                    profilePic = {post.data.profilePic}\n                    message = {post.data.message}\n                    timestamp = {post.data.timestamp}\n                    username = {post.data.username}\n                    image = {post.data.image}\n                />\n            ))}\n        </div>\n    )\n}\n\nexport default Feed\n"]},"metadata":{},"sourceType":"module"}